<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Scoot | D√©tails du scooter</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/scooter-details.css">
</head>
<body>
    <%- include('partials/header', { 
        title: scooter.name, 
        description: `D√©couvrez le ${scooter.name} - ${scooter.description}` 
    }) %>

    <main class="scooter-details">
        <div class="container">
            <nav class="breadcrumb">
                <a href="/">Accueil</a> &gt;
                <a href="/search">Scooters</a> &gt;
                <span><%= scooter.name %></span>
            </nav>

            <div class="scooter-content">
                <div class="scooter-gallery">
                    <div class="main-image">
                        <img src="/images/<%= scooter.image %>" alt="<%= scooter.name %>" id="main-scooter-image">
                    </div>
                    <div class="thumbnail-images">
                        <img src="/images/<%= scooter.image %>" alt="<%= scooter.name %>" class="thumbnail active" onclick="changeImage(this.src)">
                        <img src="/images/<%= scooter.image2 || scooter.image %>" alt="<%= scooter.name %>" class="thumbnail" onclick="changeImage(this.src)">
                        <img src="/images/<%= scooter.image3 || scooter.image %>" alt="<%= scooter.name %>" class="thumbnail" onclick="changeImage(this.src)">
                        <img src="/images/<%= scooter.image4 || scooter.image %>" alt="<%= scooter.name %>" class="thumbnail" onclick="changeImage(this.src)">
                    </div>
                </div>
                <div class="scooter-info">
                    <h1><%= scooter.name %></h1>
                    <div class="price"><%= scooter.price %> ‚Ç¨</div>
                    <div class="rating">
                        <% for(let i = 0; i < 5; i++) { %>
                            <% if(i < scooter.rating) { %>
                                <span class="star filled">‚òÖ</span>
                            <% } else { %>
                                <span class="star">‚òÖ</span>
                            <% } %>
                        <% } %>
                        <span class="rating-count">(<%= scooter.reviewCount %> avis)</span>
                    </div>
                    <div class="description">
                        <p><%= scooter.description %></p>
                    </div>
                    <div class="specs">
                        <h3>Caract√©ristiques techniques</h3>
                        <div class="specs-grid">
                            <div class="spec-item">
                                <div class="spec-icon">‚ö°</div>
                                <div class="spec-details">
                                    <div class="spec-name">Puissance</div>
                                    <div class="spec-value"><%= scooter.power %></div>
                                </div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-icon">üîã</div>
                                <div class="spec-details">
                                    <div class="spec-name">Autonomie</div>
                                    <div class="spec-value"><%= scooter.range %> km</div>
                                </div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-icon">‚è±Ô∏è</div>
                                <div class="spec-details">
                                    <div class="spec-name">Vitesse max</div>
                                    <div class="spec-value"><%= scooter.speed %> km/h</div>
                                </div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-icon">‚öñÔ∏è</div>
                                <div class="spec-details">
                                    <div class="spec-name">Poids</div>
                                    <div class="spec-value"><%= scooter.weight %> kg</div>
                                </div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-icon">üîå</div>
                                <div class="spec-details">
                                    <div class="spec-name">Temps de charge</div>
                                    <div class="spec-value"><%= scooter.chargeTime %></div>
                                </div>
                            </div>
                            <div class="spec-item">
                                <div class="spec-icon">üìè</div>
                                <div class="spec-details">
                                    <div class="spec-name">Dimensions</div>
                                    <div class="spec-value"><%= scooter.dimensions %></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="colors">
                        <h3>Couleurs disponibles</h3>
                        <div class="color-options">
                            <% scooter.colors.forEach(color => { %>
                                <div class="color-option" style="background-color: <%= color.code %>;" title="<%= color.name %>"></div>
                            <% }); %>
                        </div>
                    </div>
                    <div class="availability">
                        <h3>Disponibilit√©</h3>
                        <p><%= scooter.availability ? 'En stock' : 'Rupture de stock' %></p>
                        <% if (scooter.availability) { %>
                            <p class="delivery-info">Livraison estim√©e : 3-5 jours ouvrables</p>
                        <% } else { %>
                            <p class="delivery-info">Prochaine disponibilit√© : <%= scooter.nextAvailability %></p>
                        <% } %>
                    </div>
                    <div class="actions">
                        <a href="/reservation/<%= scooter.id %>" class="btn btn-primary">R√©server maintenant</a>
                        <a href="/test-drive/<%= scooter.id %>" class="btn btn-outline">Essai gratuit</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Features Section -->
    <section class="scooter-features">
        <div class="container">
            <h2>Caract√©ristiques principales</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üîã</div>
                    <h3>Batterie longue dur√©e</h3>
                    <p>Batterie lithium-ion de haute qualit√© offrant une autonomie exceptionnelle pour vos trajets quotidiens.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>S√©curit√© avanc√©e</h3>
                    <p>Syst√®me de verrouillage √©lectronique et alarme int√©gr√©e pour prot√©ger votre scooter en toutes circonstances.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì±</div>
                    <h3>Application connect√©e</h3>
                    <p>Contr√¥lez votre scooter √† distance, suivez vos trajets et recevez des notifications via notre application mobile.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üå±</div>
                    <h3>√âco-responsable</h3>
                    <p>Z√©ro √©mission et mat√©riaux recyclables pour une mobilit√© urbaine respectueuse de l'environnement.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section class="reviews">
        <div class="container">
            <h2>Avis clients</h2>
            <div class="reviews-summary">
                <div class="average-rating">
                    <div class="rating-number"><%= scooter.rating %>/5</div>
                    <div class="rating-stars">
                        <% for(let i = 0; i < 5; i++) { %>
                            <% if(i < scooter.rating) { %>
                                <span class="star filled">‚òÖ</span>
                            <% } else { %>
                                <span class="star">‚òÖ</span>
                            <% } %>
                        <% } %>
                    </div>
                    <div class="rating-count"><%= scooter.reviewCount %> avis</div>
                </div>
                <div class="rating-bars">
                    <div class="rating-bar">
                        <div class="rating-label">5 √©toiles</div>
                        <div class="bar-container">
                            <div class="bar" style="width: <%= scooter.ratingDistribution[4] %>%"></div>
                        </div>
                        <div class="rating-percentage"><%= scooter.ratingDistribution[4] %>%</div>
                    </div>
                    <div class="rating-bar">
                        <div class="rating-label">4 √©toiles</div>
                        <div class="bar-container">
                            <div class="bar" style="width: <%= scooter.ratingDistribution[3] %>%"></div>
                        </div>
                        <div class="rating-percentage"><%= scooter.ratingDistribution[3] %>%</div>
                    </div>
                    <div class="rating-bar">
                        <div class="rating-label">3 √©toiles</div>
                        <div class="bar-container">
                            <div class="bar" style="width: <%= scooter.ratingDistribution[2] %>%"></div>
                        </div>
                        <div class="rating-percentage"><%= scooter.ratingDistribution[2] %>%</div>
                    </div>
                    <div class="rating-bar">
                        <div class="rating-label">2 √©toiles</div>
                        <div class="bar-container">
                            <div class="bar" style="width: <%= scooter.ratingDistribution[1] %>%"></div>
                        </div>
                        <div class="rating-percentage"><%= scooter.ratingDistribution[1] %>%</div>
                    </div>
                    <div class="rating-bar">
                        <div class="rating-label">1 √©toile</div>
                        <div class="bar-container">
                            <div class="bar" style="width: <%= scooter.ratingDistribution[0] %>%"></div>
                        </div>
                        <div class="rating-percentage"><%= scooter.ratingDistribution[0] %>%</div>
                    </div>
                </div>
            </div>
            <div class="reviews-list">
                <% scooter.reviews.forEach(review => { %>
                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">
                                    <img src="/images/<%= review.avatar || 'avatar-default.jpg' %>" alt="<%= review.name %>">
                                </div>
                                <div class="reviewer-details">
                                    <div class="reviewer-name"><%= review.name %></div>
                                    <div class="review-date"><%= review.date %></div>
                                </div>
                            </div>
                            <div class="review-rating">
                                <% for(let i = 0; i < 5; i++) { %>
                                    <% if(i < review.rating) { %>
                                        <span class="star filled">‚òÖ</span>
                                    <% } else { %>
                                        <span class="star">‚òÖ</span>
                                    <% } %>
                                <% } %>
                            </div>
                        </div>
                        <div class="review-content">
                            <h4><%= review.title %></h4>
                            <p><%= review.comment %></p>
                        </div>
                        <% if (review.response) { %>
                            <div class="review-response">
                                <div class="response-header">
                                    <div class="response-avatar">
                                        <img src="/images/logo-small.png" alt="E-Scoot">
                                    </div>
                                    <div class="response-details">
                                        <div class="response-name">R√©ponse de E-Scoot</div>
                                        <div class="response-date"><%= review.responseDate %></div>
                                    </div>
                                </div>
                                <div class="response-content">
                                    <p><%= review.response %></p>
                                </div>
                            </div>
                        <% } %>
                    </div>
                <% }); %>
            </div>
            <div class="reviews-pagination">
                <button class="pagination-btn prev">Pr√©c√©dent</button>
                <div class="pagination-numbers">
                    <span class="page-number active">1</span>
                    <span class="page-number">2</span>
                    <span class="page-number">3</span>
                    <span class="page-number">...</span>
                    <span class="page-number">10</span>
                </div>
                <button class="pagination-btn next">Suivant</button>
            </div>
        </div>
    </section>

    <!-- Related Products Section -->
    <section class="related-products">
        <div class="container">
            <h2>Produits similaires</h2>
            <div class="model-cards">
                <% relatedScooters.forEach(scooter => { %>
                    <div class="model-card">
                        <div class="model-image">
                            <img src="/images/<%= scooter.image %>" alt="<%= scooter.name %>" />
                        </div>
                        <div class="model-info">
                            <h3><%= scooter.name %></h3>
                            <div class="price"><%= scooter.price %> ‚Ç¨</div>
                            <div class="model-specs">
                                <div class="model-spec">
                                    <span>‚ö° <%= scooter.power %></span>
                                </div>
                                <div class="model-spec">
                                    <span>üîã <%= scooter.range %> km</span>
                                </div>
                                <div class="model-spec">
                                    <span>‚è±Ô∏è <%= scooter.speed %> km/h</span>
                                </div>
                                <div class="model-spec">
                                    <span>‚öñÔ∏è <%= scooter.weight %> kg</span>
                                </div>
                            </div>
                            <div class="model-actions">
                                <a href="/scooter/<%= scooter.id %>" class="btn btn-outline">D√©tails</a>
                                <a href="/reservation/<%= scooter.id %>" class="btn btn-primary">R√©server</a>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <a href="#" class="footer-logo">E-Scoot</a>
                    <p>E-Scoot r√©volutionne la mobilit√© urbaine avec des scooters √©lectriques innovants, performants et respectueux de l'environnement.</p>
                    <div class="social-links">
                        <a href="#"><span>f</span></a>
                        <a href="#"><span>in</span></a>
                        <a href="#"><span>ig</span></a>
                        <a href="#"><span>tw</span></a>
                    </div>
                </div>
                
                <div class="footer-links">
                    <h3>Produits</h3>
                    <ul>
                        <li><a href="/scooter/1">E-Scoot Urban</a></li>
                        <li><a href="/scooter/2">E-Scoot Pro</a></li>
                        <li><a href="/scooter/3">E-Scoot Max</a></li>
                        <li><a href="#">Accessoires</a></li>
                        <li><a href="#">Pi√®ces d√©tach√©es</a></li>
                    </ul>
                </div>
                
                <div class="footer-links">
                    <h3>Entreprise</h3>
                    <ul>
                        <li><a href="#">√Ä propos</a></li>
                        <li><a href="#">Notre mission</a></li>
                        <li><a href="#">Nos engagements</a></li>
                        <li><a href="#">Carri√®res</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                
                <div class="footer-contact">
                    <h3>Contact</h3>
                    <p><span>üìç</span> 12 rue de la Mobilit√©, 75001 Paris</p>
                    <p><span>üìû</span> 01 23 45 67 89</p>
                    <p><span>‚úâÔ∏è</span> contact@e-scoot.com</p>
                    <p><span>üïí</span> Lun-Ven : 9h-18h</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 E-Scoot. Tous droits r√©serv√©s. | <a href="#" style="color: rgba(255, 255, 255, 0.5);">Mentions l√©gales</a> | <a href="#" style="color: rgba(255, 255, 255, 0.5);">Politique de confidentialit√©</a></p>
            </div>
        </div>
    </footer>

    <script src="/js/main.js"></script>
    <script>
        function changeImage(src) {
            document.getElementById('main-scooter-image').src = src;
            
            // Update active thumbnail
            const thumbnails = document.querySelectorAll('.thumbnail');
            thumbnails.forEach(thumb => {
                if (thumb.src === src) {
                    thumb.classList.add('active');
                } else {
                    thumb.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>
